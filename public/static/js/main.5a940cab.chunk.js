(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{19:function(e,t,a){},23:function(e,t,a){},41:function(e,t,a){e.exports=a(89)},46:function(e,t,a){},47:function(e,t,a){},65:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),c=a.n(l),i=(a(46),a(16)),s=(a(47),a(8)),o=a(1),m=a(2),u=a(4),p=a(3),d=a(5),h=a.n(d),g=(a(65),a(7)),v=(a(19),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fileSelectHandler=function(e){n.setState({selectedFile:e.target.files[0]})},n.fileUploadHandler=function(){var e=new FormData;e.append("myFile",n.state.selectedFile,n.state.selectedFile.name),h.a.put("https://drinks-app.herokuapp.com/api/products/image/"+n.props.product._id,e,{withCredentials:!0}).then((function(e){n.setState({img:e.data.productImgUrl}),Object(g.a)({},n.props.product).productImgUrl=e.data.productImgUrl}))},n.state={loggedInUser:n.props.loggedInUser.loggedInUser,img:n.props.product.productImgUrl,selectedFile:null},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.fileSelectHandler}),r.a.createElement("button",{onClick:this.fileUploadHandler,className:"button is-success"},"Upload"))}}]),a}(n.Component)),E=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(){h.a.delete("https://drinks-app.herokuapp.com/api/products/"+n.state.id,{withCredentials:!0}).then((function(){return n.setState({redirect:!0})}))},n.state={id:e.match.params.id,product:{},redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://drinks-app.herokuapp.com/api/products/"+this.state.id,{withCredentials:!0}).then((function(t){e.setState({product:t.data})}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(s.a,{to:"/products"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Product Details"),r.a.createElement("div",{className:"productDetailsPage"},r.a.createElement("img",{className:"productImgDetails",src:this.state.product.productImgUrl,alt:"Product Img"}),r.a.createElement("h1",null,this.state.product.name),r.a.createElement("h2",null,"Unitary cost: ",this.state.product.price,"$"),r.a.createElement("h3",null,"Format: ",this.state.product.format),r.a.createElement("p",null,this.state.product.info),r.a.createElement("button",{onClick:this.handleClick,className:"button is-danger",id:"productDetailsDeleteBtn"},"Delete product"),r.a.createElement(v,Object.assign({},this.props,{product:this.state.product}))))}}]),a}(n.Component),f=a(6),b=a(11),N=(a(71),function(e){var t=Object(n.useState)({name:"",adress:{street:"",number:0},telephone:0,info:""}),a=Object(i.a)(t,2),l=a[0],c=a[1],s=function(e){var t=l.adress,a=e.target.name,n=e.target.value;t[a]=n,l.adress=t,c(Object(g.a)(Object(g.a)({},l),{},Object(b.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{id:"addProviderTitle"},"Add a new Provider"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(g.a)({},l);h.a.post("https://drinks-app.herokuapp.com/api/providers/",t,{withCredentials:!0}),e.target.reset()},id:"providerForm"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Name",onChange:s,name:"name"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Street",onChange:s,name:"street"})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{type:"number",placeholder:"Number",onChange:s,name:"number"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"Telephone",onChange:s,name:"telephone"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Info",onChange:s,name:"info"})),r.a.createElement("br",null),r.a.createElement("div",null),r.a.createElement("button",{className:"button is-info",type:"submit"},"Add providers")))}),k=(a(72),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={providers:[],isloggedin:n.props.loggedInUser._id},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://drinks-app.herokuapp.com/api/providers/",{withCredentials:!0}).then((function(t){e.setState({providers:t.data})})).catch((function(e){return console.log(" ESTE ES EL ERROR",e)}))}},{key:"render",value:function(){var e;return e=this.state.providers.length?this.state.providers.map((function(e,t){return r.a.createElement("div",{className:"box",key:t},r.a.createElement("article",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-64x64"},r.a.createElement("img",{className:"productImg",src:e.providerImgUrl,alt:"img"}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement(f.b,{to:"/providers/"+e._id},e.name))," ",r.a.createElement("br",null),r.a.createElement("small",null,"Adress: ",e.adress.street," N\xba: ",e.adress.number)," ",r.a.createElement("br",null),r.a.createElement("small",null,e.info))))))})):r.a.createElement("div",null,r.a.createElement("p",null,"No providers yet, lets add some!")),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Provider List"),r.a.createElement("div",{id:"providersPage"},e),r.a.createElement(N,Object.assign({userID:this.props},this.props)))}}]),a}(n.Component)),O=(a(73),a(74),function(e){var t=Object(n.useState)({name:"",typeFormat:"",price:0,format:"",info:"",Provider:e.Provider}),a=Object(i.a)(t,2),l=a[0],c=a[1],s=function(e){c(Object(g.a)(Object(g.a)({},l),{},Object(b.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"addProductTitle"},"Add a new Product"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(g.a)({},l);h.a.post("https://drinks-app.herokuapp.com/api/products/",t,{withCredentials:!0}),e.target.reset()}},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Name",onChange:s,name:"name"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",null,"Unit of mesure:"),r.a.createElement("br",null),r.a.createElement("select",{value:"typeFormat",onChange:function(e){c(Object(g.a)(Object(g.a)({},l),{},Object(b.a)({},e.target.name,e.target.value)))},name:"typeFormat"},r.a.createElement("option",{value:""},"  "),r.a.createElement("option",{value:["Grams"]},"Grams"),r.a.createElement("option",{value:["Centiliters"]},"Centiliters"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"Unitary Cost",step:"0.01",onChange:s,name:"price"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Format",onChange:s,name:"format"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Info",onChange:s,name:"info"})),r.a.createElement("br",null),r.a.createElement("button",{className:"button is-success",type:"submit"},"Add product")))}),y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fileSelectHandler=function(e){n.setState({selectedFile:e.target.files[0]})},n.fileUploadHandler=function(){var e=new FormData;e.append("myFile",n.state.selectedFile,n.state.selectedFile.name),h.a.put("https://drinks-app.herokuapp.com/api/providers/image/"+n.props.Provider._id,e,{withCredentials:!0}).then((function(e){n.setState({img:e.data.providerImgUrl}),Object(g.a)({},n.props.Provider).providerImgUrl=e.data.providerImgUrl}))},n.state={img:"",selectedFile:null},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.fileSelectHandler}),r.a.createElement("button",{className:"button is-success",onClick:this.fileUploadHandler},"Upload"))}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(){h.a.delete("https://drinks-app.herokuapp.com/api/providers/"+n.state.id,{withCredentials:!0}).then((function(){return n.setState({redirect:!0})}))},n.state={id:e.match.params.id,provider:{},redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://drinks-app.herokuapp.com/api/providers/"+this.state.id,{withCredentials:!0}).then((function(t){e.setState({provider:t.data})}))}},{key:"render",value:function(){var e="",t="";return this.state.provider.adress&&(e=this.state.provider.adress.street),this.state.provider.adress&&(t=this.state.provider.adress.number),this.state.redirect?r.a.createElement(s.a,{to:"/providers"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Provider Details"),r.a.createElement("div",{className:"providerDetailsPage"},r.a.createElement("img",{className:"providerImg",src:this.state.provider.providerImgUrl,alt:"Provider Img"}),r.a.createElement("h1",null,r.a.createElement("b",null,"Nombre:")," ",this.state.provider.name),r.a.createElement("br",null),r.a.createElement("h2",null,r.a.createElement("b",null," Telephone:")," ",this.state.provider.telephone),r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement("b",null,"Adress:")," ",e," ",t),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"Info:")," ",this.state.provider.info),r.a.createElement("button",{className:"button is-danger",id:"providersDetailsDeleteBtn",onClick:this.handleClick},"Delete provider"),r.a.createElement("div",null,r.a.createElement("p",{className:"uploadimageProvider"},"Upload a Provider Image:"),r.a.createElement(y,Object.assign({},this.props,{Provider:this.state.provider}))),r.a.createElement(O,{Provider:this.state.id})))}}]),a}(n.Component),C=(a(75),a(76),a(77),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(e){"profile"===e.target.name?n.setState({profile:n.state.profileActive,recipes:n.state.recipesInactive,providers:n.state.providersInactive,products:n.state.productsInactive,textProfile:"#15540e",textRecipes:"white",textProducts:"white",textProviders:"white"}):"providers"===e.target.name?n.setState({profile:n.state.profileInactive,recipes:n.state.recipesInactive,providers:n.state.providersActive,products:n.state.productsInactive,textProviders:"#15540e",textProfile:"white",textRecipes:"white",textProducts:"white"}):"recipes"===e.target.name?n.setState({profile:n.state.profileInactive,recipes:n.state.recipesActive,providers:n.state.providersInactive,products:n.state.productsInactive,textRecipes:"#15540e",textProfile:"white",textProducts:"white",textProviders:"white"}):"products"===e.target.name&&n.setState({profile:n.state.profileInactive,recipes:n.state.recipesInactive,providers:n.state.providersInactive,products:n.state.productsActive,textProducts:"#15540e",textProfile:"white",textRecipes:"white",textProviders:"white"})},n.state={profile:"/img/Profile.svg",providers:"/img/Providers.svg",recipes:"/img/Recipes.svg",profileActive:"/img/Profile2.svg",providersActive:"/img/Providers2.svg",recipesActive:"/img/Recipes2.svg",profileInactive:"/img/Profile.svg",providersInactive:"/img/Providers.svg",recipesInactive:"/img/Recipes.svg",products:"/img/Products.svg",productsActive:"/img/Products2.svg",productsInactive:"/img/Products.svg",textProfile:"white",textRecipes:"white",textProducts:"white",textProviders:"white"},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"FooterNav"},r.a.createElement("div",null,r.a.createElement(f.b,{to:"/user-profile"},r.a.createElement("div",null,r.a.createElement("img",{onClick:this.handleClick,id:"profile",name:"profile",src:this.state.profile,alt:"profile icon"})),r.a.createElement("p",{style:{color:"".concat(this.state.textProfile),marginTop:"5px",fontSize:"8px",textDecoration:"none"}},"PROFILE"))),r.a.createElement("div",null,r.a.createElement(f.b,{to:"/recipes/"},r.a.createElement("div",null,r.a.createElement("img",{onClick:this.handleClick,id:"recipes",name:"recipes",src:this.state.recipes,key:"recipes"+this.state.recipes,alt:"recipes icon"})),r.a.createElement("p",{style:{color:"".concat(this.state.textRecipes),marginTop:"5px",fontSize:"8px",textDecoration:"none"}},"RECIPES"))),r.a.createElement("div",null,r.a.createElement(f.b,{to:"/products/"},r.a.createElement("div",null,r.a.createElement("img",{onClick:this.handleClick,id:"products",name:"products",src:this.state.products,key:"products"+this.state.products,alt:"product icon"})),r.a.createElement("p",{style:{color:"".concat(this.state.textProducts),marginTop:"5px",fontSize:"8px",textDecoration:"none"}},"PRODUCTS"))),r.a.createElement("div",null,r.a.createElement(f.b,{to:"/providers/"},r.a.createElement("div",null,r.a.createElement("img",{onClick:this.handleClick,id:"providers",name:"providers",src:this.state.providers,key:"providers"+this.state.providers,alt:"profile icon"})),r.a.createElement("p",{style:{color:"".concat(this.state.textProviders),marginTop:"5px",fontSize:"8px",textDecoration:"none"}},"PROVIDERS"))))}}]),a}(n.Component)),I=a(39),S=a.n(I),w=(a(78),a(79),a(20),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{className:"slider-wrapper"},r.a.createElement("div",{className:"slider-content",style:{background:"url('".concat(this.props.image,"') no-repeat center center")}},r.a.createElement("div",{className:"inner"},r.a.createElement("h1",null,this.props.title)))))}}]),a}(n.Component)),P=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,{title:"We are DrinkApp",image:"./img/drinks/homeslider.png"}),r.a.createElement("section",{id:"about",className:"page-section"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"service-item first-service",id:"column1"},r.a.createElement("div",null,r.a.createElement("img",{id:"logoDrink",src:"/img/logo-white.svg",alt:""})),r.a.createElement("h4",null,"What is Drinkapp?"),r.a.createElement("p",null,"Drinkapp is a new tool to calculate cost breakdown of your drinks and have a track of your providers and recipes!",r.a.createElement("br",null),"New cocktail menu? No time for excel? Want to know your cost breakdown in a simple way? This is why Drinkapp is for you!"))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"service-item second-service",id:"column2"},r.a.createElement("div",{className:"icon"},r.a.createElement("img",{className:"bottomIcon",src:"/img/Profile.svg",alt:""}),r.a.createElement("p",null,r.a.createElement("b",null,"1.-")," Signup and create your ",r.a.createElement("b",null,"PROFILE"))),r.a.createElement("div",{className:"icon"},r.a.createElement("img",{className:"bottomIcon",src:"/img/Providers.svg",alt:""}),r.a.createElement("p",null,r.a.createElement("b",null,"2.-")," Introduce your ",r.a.createElement("b",null,"PROVIDERS")," In each of them you can introduce their products and the playground will be set!")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"service-item third-service",id:"column3"},r.a.createElement("div",{className:"icon"},r.a.createElement("img",{className:"bottomIcon",src:"/img/Products.svg",alt:""}),r.a.createElement("p",null,r.a.createElement("b",null,"3.-")," In ",r.a.createElement("b",null,"PRODUCTS")," page you can search for ingredients, compare prices from different providers and create a new recipe")),r.a.createElement("div",{className:"icon"},r.a.createElement("img",{className:"bottomIcon",src:"/img/Recipes.svg",alt:""}),r.a.createElement("p",null,r.a.createElement("b",null,"4.-"),"In ",r.a.createElement("b",null,"RECIPES")," page  select a  recipe and access  to a detail of ingredients  and total cost break down!"))))))),r.a.createElement(C,null))}}]),a}(n.Component),U=(a(80),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={recipes:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://drinks-app.herokuapp.com/api/recipes/",{withCredentials:!0}).then((function(t){e.setState({recipes:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e;return e=this.state.recipes.length?this.state.recipes.map((function(e,t){return r.a.createElement("div",{key:t,className:"box",id:"recipesPage"},r.a.createElement("article",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-64x64"},r.a.createElement("img",{className:"productImg",src:e.recipeImgUrl,alt:"img"}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement(f.b,{to:"/recipes/"+e._id},e.name))," ",r.a.createElement("br",null),r.a.createElement("small",null,"Method: ",e.method)," ",r.a.createElement("br",null)))),r.a.createElement("div",{className:"media-right"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("h1",null,"Main ingredient:"),r.a.createElement("small",null,e.ingredients[0].product.name))))))})):r.a.createElement("div",null,r.a.createElement("p",null,"No recipes yet, go to ",r.a.createElement(f.b,{to:"/products/"},"Producst page "),"and do your magic!")),r.a.createElement("div",{className:"container"},r.a.createElement("div",null,e))}}]),a}(n.Component)),x=(a(81),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fileSelectHandler=function(e){n.setState({selectedFile:e.target.files[0]})},n.fileUploadHandler=function(){var e=new FormData;e.append("myFile",n.state.selectedFile,n.state.selectedFile.name),h.a.put("https://drinks-app.herokuapp.com/api/recipes/images/"+n.props.recipe._id,e,{withCredentials:!0}).then((function(e){n.setState({img:e.data.recipeImgUrl}),Object(g.a)({},n.props.recipe).recipeImgUrl=e.data.recipeImgUrl}))},n.state={loggedInUser:n.props.loggedInUser.loggedInUser,img:n.props.recipe.providerImgUrl,selectedFile:null},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.fileSelectHandler}),r.a.createElement("button",{className:"button is-success",onClick:this.fileUploadHandler},"Upload"))}}]),a}(n.Component)),F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(){h.a.delete("https://drinks-app.herokuapp.com/api/recipes/"+n.state.id,{withCredentials:!0}).then((function(){return n.setState({redirect:!0})}))},n.state={id:e.match.params.id,recipe:{name:"",ingredients:[],method:""},redirect:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://drinks-app.herokuapp.com/api/recipes/"+this.state.id,{withCredentials:!0}).then((function(t){e.setState({recipe:t.data})}))}},{key:"render",value:function(){var e=this.state.recipe.ingredients.map((function(e){return r.a.createElement("li",{key:e.product._id}," ",e.product.name," ")})),t=this.state.recipe.ingredients.map((function(e,t){return r.a.createElement("li",{key:t},e.quantity," ",e.product.typeFormat)})),a=this.state.recipe.ingredients.map((function(e){return Number((e.product.price/e.product.format*e.quantity).toFixed(2))})),n=a.map((function(e,t){return r.a.createElement("li",{key:t}," ",e," ")})),l=a.reduce((function(e,t){return e+t}),0),c=Math.floor(5*l+1);return this.state.redirect?r.a.createElement(s.a,{to:"/recipes"}):r.a.createElement("div",null,r.a.createElement(w,{image:this.state.recipe.recipeImgUrl,title:this.state.recipe.name}),r.a.createElement("div",{className:"recipeDetailsPage"},r.a.createElement("h2",{className:"addRecipesTitle"},"Method: ",this.state.recipe.method),r.a.createElement(x,Object.assign({},this.props,{recipe:this.state.recipe})),r.a.createElement("button",{onClick:this.handleClick,id:"recipeDetailsDeleteBtn",className:"button is-danger"},"Delete recipe"),r.a.createElement("div",{className:"infoContainer"},r.a.createElement("ul",{className:"ingredients"},r.a.createElement("b",null," INGREDIENTS:"),e),r.a.createElement("ul",{className:"mesures"},r.a.createElement("b",null,"MESURES:"),t),r.a.createElement("ul",{className:"costMesures"},r.a.createElement("b",null,"COST:"),n)),r.a.createElement("div",{className:"stats"},r.a.createElement("h1",{className:"addRecipesTitle"},"Info:"),r.a.createElement("p",null,r.a.createElement("b",null,"Total cost:")," ",l.toFixed(2)),r.a.createElement("p",null,r.a.createElement("b",null,"Suggested sell price*:")," ",c)),r.a.createElement("p",{id:"leyenda"},"* Orientative price ensuring cost price dont exceed 20% beverage cost")))}}]),a}(n.Component),D=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n){return t.service.post("/signup",{name:e,email:a,password:n}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))};var a=h.a.create({baseURL:"https://drinks-app.herokuapp.com/api",withCredentials:!0});this.service=a},R=(a(23),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.name,a=n.state.email,r=n.state.password;n.service.signup(t,a,r).then((function(e){n.setState({name:"",email:"",password:""}),n.props.callback(e),console.log(e)})).then((function(){return n.setState({redirect:!0})})).catch((function(e){console.log("catch handle submit",e.response.data.message),n.setState({errorMessage:e.response.data.message})}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(b.a)({},a,r))},n.state={name:"",email:"",password:"",errorMessage:"",redirect:!1},n.service=new D,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(s.a,{to:"/user-profile"}):r.a.createElement("div",{className:"signUpContainer"},r.a.createElement("div",null,r.a.createElement(w,{title:"We are DrinkApp",image:"./img/drinks/signupslider.png"})),r.a.createElement("div",{className:"col-lg-7 contact-right mt-lg-0 mt-5 testing-centered"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 form-group pr-lg-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Username",value:this.state.name,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-lg-6 form-group pl-lg-2"},r.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",required:"",value:this.state.email,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",autoComplete:"on",placeholder:"Password",required:"",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("button",{type:"submit",className:"btn submit-contact-main ml-auto",value:"Signup"},"Submit"),r.a.createElement("p",{className:"errorMessage"},this.state.errorMessage),r.a.createElement("p",{className:"account"},"Already have account?"),r.a.createElement(f.b,{className:"password",to:"/login"},"Login"))))}}]),a}(n.Component)),_=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).service=new D,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.service.logout().then((function(t){console.log(t),e.props.getUser(null)})).catch((function(e){return console.log(e)})),r.a.createElement(s.a,{to:"/"})}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.email,a=n.state.password;n.service.login(t,a).then((function(e){n.setState({email:"",password:""}),n.props.callback(e)})).then((function(){return n.setState({redirect:!0})})).catch((function(e){n.setState({errorMessage:e.response.data.message})}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(b.a)({},a,r))},n.state={email:"",password:"",errorMessage:"",redirect:!1},n.service=new D,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(s.a,{to:"/user-profile"}):r.a.createElement("div",{className:"signUpContainer"},r.a.createElement("div",null,r.a.createElement(w,{title:"Welcome back!",image:"./img/drinks/loginslider.png"})),r.a.createElement("div",{className:"col-lg-7 contact-right mt-lg-0 mt-5 testing-centered"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"Email",type:"email",className:"form-control",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",autoComplete:"on",placeholder:"Password",required:"",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("button",{type:"submit",className:"btn submit-contact-main ml-auto",value:"Login"},"Submit"),r.a.createElement("p",{className:"errorMessage"},this.state.errorMessage),r.a.createElement("p",{className:"account"},"Don't have account?"),r.a.createElement(f.b,{className:"password",to:"/signup"}," Signup"))))}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fileSelectHandler=function(e){n.setState({selectedFile:e.target.files[0]})},n.fileUploadHandler=function(){var e=new FormData;e.append("myFile",n.state.selectedFile,n.state.selectedFile.name),h.a.put("https://drinks-app.herokuapp.com/api/user/"+n.state.loggedInUser.loggedInUser._id,e,{withCredentials:!0}).then((function(e){n.setState({img:e.data.userImgUrl});var t=Object(g.a)({},n.props.loggedInUser.loggedInUser);t.userImgUrl=e.data.userImgUrl,n.props.callback(t)}))},n.state={loggedInUser:n.props.loggedInUser,img:n.props.loggedInUser.loggedInUser.userImgUrl,selectedFile:null},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{onClick:this.fileUploadHandler,className:"input-group-text",id:"inputGroupFileAddon01"},"Upload")),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{style:{display:"none"},type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",onChange:this.fileSelectHandler}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},"Profile image")))}}]),a}(n.Component),T=(a(82),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={loggedInUser:n.props.loggedInUser,img:n.props.loggedInUser.loggedInUser.userImgUrl,recipes:0,providers:0,products:0},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://drinks-app.herokuapp.com/api/recipes/",{withCredentials:!0}).then((function(t){e.setState({recipes:t.data.length})})).catch((function(e){return console.log(e)})),h.a.get("https://drinks-app.herokuapp.com/api/products/",{withCredentials:!0}).then((function(t){e.setState({products:t.data.length})})),h.a.get("https://drinks-app.herokuapp.com/api/providers/",{withCredentials:!0}).then((function(t){e.setState({providers:t.data.length})}))}},{key:"render",value:function(){return this.state.loggedInUser?this.state.loggedInUser?r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:this.props.loggedInUser.loggedInUser.userImgUrl,alt:"User",className:"card__image"}),r.a.createElement("div",{className:"card__text"},r.a.createElement("h2",null,"Welcome ",this.state.loggedInUser.loggedInUser.name,"!"),r.a.createElement("p",null,this.state.loggedInUser.loggedInUser.email," ")),r.a.createElement("ul",{className:"card__info"},r.a.createElement("li",null,r.a.createElement("span",{className:"card__info__stats"},this.state.recipes),r.a.createElement("span",null,"Recipes")),r.a.createElement("li",null,r.a.createElement("span",{className:"card__info__stats"},this.state.products),r.a.createElement("span",null,"Products")),r.a.createElement("li",null,r.a.createElement("span",{className:"card__info__stats"},this.state.providers),r.a.createElement("span",null,"Providers"))),r.a.createElement("div",{className:"card__action"},r.a.createElement(A,this.props)))):r.a.createElement("div",null,r.a.createElement("h1",null,"Profile")):r.a.createElement(s.a,{to:"/login"})}}]),a}(n.Component)),q=a(26);a(83);var H=function(e){return r.a.createElement("div",{className:"searchBar"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Search ingredient",onChange:e.handleSearchParam,value:e.searchParam})))},L=(a(84),a(85),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),console.log(n.props.user);var t={name:n.state.name,method:n.state.method,user:n.props.user,ingredients:n.props.ingredients.map((function(e){return{quantity:e.quantity,product:e.product.id}}))};h.a.post("https://drinks-app.herokuapp.com/api/recipes/",t,{withCredentials:!0}).then((function(e){console.log(e)})).catch((function(e){console.log("catch handle submit",e.response.data.message),n.setState({errorMessage:e.response.data.message})})),e.target.reset()},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(b.a)({},a,r))},n.handleDeleteRecipe=function(e){n.setState({name:"",method:""}),n.props.emptyForm()},n.state={name:"",method:"",errorMessage:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.ingredients.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h1",null,r.a.createElement("b",null,"Ingredient:")," ",e.product.name),r.a.createElement("h2",null,r.a.createElement("b",null,"Recipe quantity:")," ",e.quantity),r.a.createElement("hr",null))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"recipeForm"},r.a.createElement("h1",{className:"titleAdd"},"Add a new Recipe"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("b",null,"Cocktail name:")),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,className:"form-control inputReducido"}),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("b",null,"Cocktail technique:")),r.a.createElement("br",null),r.a.createElement("select",{value:this.state.method,onChange:this.handleChange,name:"method",className:"form-control inputReducido"},r.a.createElement("option",{value:""}," "),r.a.createElement("option",{value:"Shake"},"Shake"),r.a.createElement("option",{value:"Stir"},"Stir"),r.a.createElement("option",{value:"Throw"},"Throw"),r.a.createElement("option",{value:"Muddle"},"Muddle")),r.a.createElement("div",null,e),r.a.createElement("button",{type:"submit",className:"btn submit-contact-main ml-auto"},"Submit"),r.a.createElement("button",{type:"reset",onClick:this.handleDeleteRecipe,className:"btn submit-contact-main ml-auto deleteBtn"},"Delete"),r.a.createElement("p",{className:"errorMessage"},this.state.errorMessage))))}}]),a}(n.Component)),G=(a(86),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target;n.setState({quantity:t.value})},n.handleClick=function(){n.props.addProduct({product:{name:n.props.item.name,id:n.props.item._id},quantity:n.state.quantity}),n.setState({quantity:0})},n.state={quantity:0},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"box",key:this.props.index},r.a.createElement("article",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-64x64"},r.a.createElement("img",{className:"productImg",src:this.props.item.productImgUrl,alt:"img"}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement(f.b,{to:"/products/"+this.props.item._id},this.props.item.name)),r.a.createElement("br",null),this.props.item.format," ",this.props.item.typeFormat," ",r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Price: "),this.props.item.price,"\u20ac")," ",r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Provider: ")," ",this.props.item.Provider.name)))),r.a.createElement("div",{className:"media-right",id:"inputQuantity"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.quantity,name:"quantity",className:"input",type:"number",placeholder:"Select amount"})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{onClick:this.handleClick,className:"button is-primary"},"+")))))))}}]),a}(n.Component)),B=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addProduct=function(e){n.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{recipeIngredients:[].concat(Object(q.a)(t.recipeIngredients),[e])})}))},n.deleteProduct=function(e,t){n.setState((function(a){return Object(g.a)(Object(g.a)({},a),{},{recipeIngredients:Object(q.a)(a.recipeIngredients).splice(t,e)})}))},n.emptyForm=function(){n.setState({recipeIngredients:[]})},n.state={products:[],filter:"",recipeIngredients:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://drinks-app.herokuapp.com/api/products/",{withCredentials:!0}).then((function(t){e.setState({products:t.data})})).catch((function(e){return console.log(" ESTE ES EL ERROR",e)}))}},{key:"render",value:function(){var e,t=this,a=this.state.filter;return e=this.state.products.length?this.state.products.filter((function(e){return e.name.toLowerCase().includes(a.toLocaleLowerCase())})).map((function(e,a){return r.a.createElement(G,{key:a,item:e,addProduct:t.addProduct})})):r.a.createElement("div",null,r.a.createElement("p",{id:"productFeedBack"},"No products yet, lets add some!"),r.a.createElement(f.b,{to:"/providers"},"Go to your provider list and start adding ingredients")),r.a.createElement("div",null,r.a.createElement("h1",null,"Products"),r.a.createElement("div",{id:"addRecipePage"},r.a.createElement(H,{searchParam:this.searchParam,handleSearchParam:function(e){e.preventDefault(),t.setState({filter:e.target.value})}}),r.a.createElement("div",{className:"ingredientDisplay"}," ",e),r.a.createElement(L,{emptyForm:this.emptyForm,ingredients:this.state.recipeIngredients,user:this.props.loggedInUser.loggedInUser._id})))}}]),a}(n.Component),W=a(40),z=function(e){var t=e.component,a=e.user,n=Object(W.a)(e,["component","user"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return a&&a.loggedInUser?r.a.createElement(t,Object.assign({},e,n,{loggedInUser:a})):r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},J=(a(87),a(88),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){return e.ReactDOM.render()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(f.c,{className:"linkInicial",to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(f.c,{className:"linkInicial",to:"/login"},"Login")));return this.props.user.loggedInUser&&(e=r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.c,{to:"/logout",className:"linkInicial"},"Hola ",this.props.user.loggedInUser.name,", Logout"))),r.a.createElement("div",{className:"header"},r.a.createElement(f.c,{to:"/",className:"logo"},r.a.createElement("img",{className:"img-logo",src:"/img/logo-nav.svg",alt:"DRINKAPP"})),r.a.createElement("input",{className:"menu-btn",type:"checkbox",id:"menu-btn"}),r.a.createElement("label",{className:"menu-icon",htmlFor:"menu-btn"},r.a.createElement("span",{className:"navicon"})),r.a.createElement("ul",{className:"menu"},e))}}]),a}(n.Component));var V=function(e){var t=Object(n.useState)({loggedInUser:null}),a=Object(i.a)(t,2),l=a[0],c=a[1],o=function(e){return c({loggedInUser:e})};return r.a.createElement("div",{className:"App"},r.a.createElement(J,{user:l,key:l}),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(P,{user:l})),r.a.createElement(z,{exact:!0,path:"/recipes",component:U,user:l}),r.a.createElement(z,{path:"/recipes/:id",component:F,user:l}),r.a.createElement(z,{exact:!0,path:"/products",component:B,user:l}),r.a.createElement(z,{path:"/products/:id",component:E,user:l}),r.a.createElement(z,{exact:!0,path:"/providers",component:k,user:l}),r.a.createElement(z,Object.assign({path:"/providers/:id",component:j},e,{user:l})),r.a.createElement(s.b,{path:"/signup",render:function(e){return r.a.createElement(R,Object.assign({},e,{callback:o}))}}),r.a.createElement(s.b,{path:"/login",render:function(e){return r.a.createElement(M,Object.assign({},e,{callback:o}))}}),r.a.createElement(s.b,{exact:!0,path:"/logout",render:function(e){return r.a.createElement(_,Object.assign({},e,{getUser:o}))}}),r.a.createElement(z,{exact:!0,path:"/user-profile",key:l.name,component:T,user:l,callback:o})),r.a.createElement(C,null))};c.a.render(r.a.createElement(f.a,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.5a940cab.chunk.js.map